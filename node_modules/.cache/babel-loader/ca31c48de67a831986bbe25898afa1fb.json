{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/thism/Desktop/Project-Flashcards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/thism/Desktop/Project-Flashcards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/thism/Desktop/Project-Flashcards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory,useRouteMatch}from\"react-router-dom\";import{readDeck,deleteDeck,deleteCard}from\"../utils/api\";import NotFound from\"./NotFound\";import CardList from\"./CardList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeckDetails(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deckInfo=_useState2[0],setDeckInfo=_useState2[1];var _useParams=useParams(),deckId=_useParams.deckId;var name=deckInfo.name,description=deckInfo.description;var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url;var history=useHistory();function getDeckDetails(){return _getDeckDetails.apply(this,arguments);}function _getDeckDetails(){_getDeckDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var deck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:deck=_context.sent;setDeckInfo(deck);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setDeckInfo({name:\"Not Found\"});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _getDeckDetails.apply(this,arguments);}useEffect(function(){getDeckDetails();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[deckId]);function deleteHandler(_x){return _deleteHandler.apply(this,arguments);}//Handle incorrect deckId\nfunction _deleteHandler(){_deleteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Delete this card?\\n\\nYou will not be able to recover it.\")){_context2.next=4;break;}_context2.next=3;return deleteCard(id);case 3:getDeckDetails();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteHandler.apply(this,arguments);}if(name===\"Not Found\")return/*#__PURE__*/_jsx(NotFound,{});function handleDeleteDeck(){return _handleDeleteDeck.apply(this,arguments);}//TODO: Skeleton animation\nfunction _handleDeleteDeck(){_handleDeleteDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!window.confirm(\"Delete this deck?\\n\\nYou will not be able to recover it.\")){_context3.next=4;break;}_context3.next=3;return deleteDeck(deckId);case 3:history.push(\"/\");case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _handleDeleteDeck.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-house-door-fill\"}),\" Home\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\",children:name})]})}),/*#__PURE__*/_jsx(\"h3\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:description}),/*#__PURE__*/_jsxs(\"div\",{className:\"deck-card-buttons\",children:[/*#__PURE__*/_jsxs(Link,{className:\"btn btn-secondary\",to:\"\".concat(url,\"/edit\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-fill\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-primary\",to:\"\".concat(url,\"/study\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-book\"}),\" Study\"]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-primary\",to:\"\".concat(url,\"/cards/new\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-lg\"}),\" Add Cards\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger delete-deck\",onClick:handleDeleteDeck,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]}),/*#__PURE__*/_jsx(CardList,{deck:deckInfo,deleteHandler:deleteHandler})]});}export default DeckDetails;","map":{"version":3,"sources":["C:/Users/thism/Desktop/Project-Flashcards/src/Layout/DeckDetails.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","useRouteMatch","readDeck","deleteDeck","deleteCard","NotFound","CardList","DeckDetails","deckInfo","setDeckInfo","deckId","name","description","url","history","getDeckDetails","deck","deleteHandler","id","window","confirm","handleDeleteDeck","push"],"mappings":"6dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,UAA1B,CAAsCC,aAAtC,KAA2D,kBAA3D,CACA,OAASC,QAAT,CAAmBC,UAAnB,CAA+BC,UAA/B,KAAiD,cAAjD,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,wFAEA,QAASC,CAAAA,WAAT,EAAuB,CACrB,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAAmBV,SAAS,EAA5B,CAAQW,MAAR,YAAQA,MAAR,CACA,GAAQC,CAAAA,IAAR,CAA8BH,QAA9B,CAAQG,IAAR,CAAcC,WAAd,CAA8BJ,QAA9B,CAAcI,WAAd,CACA,mBAAgBX,aAAa,EAA7B,CAAQY,GAAR,gBAAQA,GAAR,CACA,GAAMC,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CALqB,QAONe,CAAAA,cAPM,oJAOrB,kLAEuBb,CAAAA,QAAQ,CAACQ,MAAD,CAF/B,QAEUM,IAFV,eAGIP,WAAW,CAACO,IAAD,CAAX,CAHJ,+EAKIP,WAAW,CAAC,CAAEE,IAAI,CAAE,WAAR,CAAD,CAAX,CALJ,oEAPqB,iDAerBd,SAAS,CAAC,UAAM,CACdkB,cAAc,GACd;AACD,CAHQ,CAGN,CAACL,MAAD,CAHM,CAAT,CAfqB,QAoBNO,CAAAA,aApBM,kDA6BrB;AA7BqB,iGAoBrB,kBAA6BC,EAA7B,0HAEIC,MAAM,CAACC,OAAP,CAAe,0DAAf,CAFJ,iDAIUhB,CAAAA,UAAU,CAACc,EAAD,CAJpB,QAKIH,cAAc,GALlB,wDApBqB,gDA8BrB,GAAIJ,IAAI,GAAK,WAAb,CAA0B,mBAAO,KAAC,QAAD,IAAP,CA9BL,QAgCNU,CAAAA,gBAhCM,mDAyCrB;AAzCqB,uGAgCrB,4IAEIF,MAAM,CAACC,OAAP,CAAe,0DAAf,CAFJ,iDAIUjB,CAAAA,UAAU,CAACO,MAAD,CAJpB,QAKII,OAAO,CAACQ,IAAR,CAAa,GAAb,EALJ,wDAhCqB,mDA0CrB,mBACE,oCACE,YAAK,aAAW,YAAhB,uBACE,YAAI,SAAS,CAAC,YAAd,wBACE,WAAI,SAAS,CAAC,iBAAd,uBACE,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,wBACE,UAAG,SAAS,CAAC,uBAAb,EADF,WADF,EADF,cAME,WAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,UACGX,IADH,EANF,GADF,EADF,cAaE,oBAAKA,IAAL,EAbF,cAcE,mBAAIC,WAAJ,EAdF,cAeE,aAAK,SAAS,CAAC,mBAAf,wBACE,MAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,CAAoC,EAAE,WAAKC,GAAL,SAAtC,wBACE,UAAG,SAAS,CAAC,mBAAb,EADF,WADF,cAIE,MAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,WAAKA,GAAL,UAApC,wBACE,UAAG,SAAS,CAAC,YAAb,EADF,YAJF,cAOE,MAAC,IAAD,EAAM,SAAS,CAAC,iBAAhB,CAAkC,EAAE,WAAKA,GAAL,cAApC,wBACE,UAAG,SAAS,CAAC,eAAb,EADF,gBAPF,cAUE,eACE,SAAS,CAAC,4BADZ,CAEE,OAAO,CAAEQ,gBAFX,uBAIE,UAAG,SAAS,CAAC,aAAb,EAJF,EAVF,GAfF,cAiCE,KAAC,QAAD,EAAU,IAAI,CAAEb,QAAhB,CAA0B,aAAa,CAAES,aAAzC,EAjCF,GADF,CAqCD,CAED,cAAeV,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useParams, useHistory, useRouteMatch } from \"react-router-dom\";\nimport { readDeck, deleteDeck, deleteCard } from \"../utils/api\";\nimport NotFound from \"./NotFound\";\nimport CardList from \"./CardList\";\n\nfunction DeckDetails() {\n  const [deckInfo, setDeckInfo] = useState({});\n  const { deckId } = useParams();\n  const { name, description } = deckInfo;\n  const { url } = useRouteMatch();\n  const history = useHistory();\n\n  async function getDeckDetails() {\n    try {\n      const deck = await readDeck(deckId);\n      setDeckInfo(deck);\n    } catch (error) {\n      setDeckInfo({ name: \"Not Found\" });\n    }\n  }\n  useEffect(() => {\n    getDeckDetails();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [deckId]);\n\n  async function deleteHandler(id) {\n    if (\n      window.confirm(\"Delete this card?\\n\\nYou will not be able to recover it.\")\n    ) {\n      await deleteCard(id);\n      getDeckDetails();\n    }\n  }\n\n  //Handle incorrect deckId\n  if (name === \"Not Found\") return <NotFound />;\n\n  async function handleDeleteDeck() {\n    if (\n      window.confirm(\"Delete this deck?\\n\\nYou will not be able to recover it.\")\n    ) {\n      await deleteDeck(deckId);\n      history.push(\"/\");\n    }\n  }\n\n  //TODO: Skeleton animation\n  return (\n    <div>\n      <nav aria-label='breadcrumb'>\n        <ol className='breadcrumb'>\n          <li className='breadcrumb-item'>\n            <Link to='/'>\n              <i className='bi bi-house-door-fill'></i> Home\n            </Link>\n          </li>\n          <li className='breadcrumb-item active' aria-current='page'>\n            {name}\n          </li>\n        </ol>\n      </nav>\n      <h3>{name}</h3>\n      <p>{description}</p>\n      <div className='deck-card-buttons'>\n        <Link className='btn btn-secondary' to={`${url}/edit`}>\n          <i className='bi bi-pencil-fill'></i> Edit\n        </Link>\n        <Link className='btn btn-primary' to={`${url}/study`}>\n          <i className='bi bi-book'></i> Study\n        </Link>\n        <Link className='btn btn-primary' to={`${url}/cards/new`}>\n          <i className='bi bi-plus-lg'></i> Add Cards\n        </Link>\n        <button\n          className='btn btn-danger delete-deck'\n          onClick={handleDeleteDeck}\n        >\n          <i className='bi bi-trash'></i>\n        </button>\n      </div>\n\n      <CardList deck={deckInfo} deleteHandler={deleteHandler} />\n    </div>\n  );\n}\n\nexport default DeckDetails;\n"]},"metadata":{},"sourceType":"module"}